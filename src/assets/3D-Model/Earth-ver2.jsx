/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
Command: npx gltfjsx@6.2.3 earth-ver2.gltf
*/

import { useRef, useEffect } from 'react';
import { useGLTF, useAnimations } from '@react-three/drei';
import PropTypes from 'prop-types';

export function Model(props) {
    const { onLoad } = props;
    const gltf = useGLTF('/earth-ver2.gltf');
    const { animations } = gltf;
    const group = useRef();
    const { actions, mixer } = useAnimations(animations, group);

    useEffect(() => {
        onLoad();
        group.current.position.set(3, 0, 0);
        group.current.rotation.set(0, 3.8, 0);
        actions['Action'].play();
        actions['Action.001'].play();
        actions['Scene'].play();
        actions['rings_Material.006_0Action'].play();

        return () => {
            mixer.stopAllAction();
        };
    }, [actions, mixer, onLoad]);

    return (
        <group ref={group}>
            <primitive object={gltf.scene} />
        </group>
    );
}

useGLTF.preload('/earth-ver2.gltf');

Model.propTypes = {
    onLoad: PropTypes.func.isRequired,
};

Model.defaultProps = {
    onLoad: null,
};
